{"ast":null,"code":"import axios from \"axios\";\nimport { success, request, fail, logout, register, failRegister } from \"../reducers/userReducer\";\nexport const Login = (email, password) => async dispatch => {\n  try {\n    dispatch(request());\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/users/login', {\n      email,\n      password\n    }, config);\n    console.log(data);\n    dispatch(success(data));\n    localStorage.setItem('userInfo', JSON.stringify(data));\n  } catch (err) {\n    const error = err.response && err.response.data.message ? err.response.data.message : err.message;\n    dispatch(fail(error));\n  }\n};\nexport const Logout = () => async dispatch => {\n  localStorage.removeItem('userInfo');\n  dispatch(logout());\n};\nexport const Register = (name, email, password) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/users', {\n      name,\n      email,\n      password\n    }, config);\n    dispatch(register(data));\n    dispatch(success(data));\n    localStorage.setItem('userInfo', JSON.stringify(data));\n  } catch (err) {\n    const error = err.response && err.response.data.message ? err.response.data.message : err.message;\n    dispatch(failRegister(error));\n  }\n};","map":{"version":3,"names":["axios","success","request","fail","logout","register","failRegister","Login","email","password","dispatch","config","headers","data","post","console","log","localStorage","setItem","JSON","stringify","err","error","response","message","Logout","removeItem","Register","name"],"sources":["C:/Users/ak/Desktop/LMS/frontend/src/action/userActions.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { success,request,fail,logout,register,failRegister } from \"../reducers/userReducer\"\r\n\r\n\r\n\r\nexport const Login = (email,password) => async (dispatch) => {\r\n    \r\n    try {\r\n\r\n        dispatch(request())\r\n        const config ={\r\n             headers:{\r\n                'Content-Type':'application/json'\r\n             }\r\n        }\r\n        const { data } = await axios.post('/api/users/login',{email,password},config)\r\n        console.log(data)\r\n        dispatch(success(data))\r\n\r\n        localStorage.setItem('userInfo',JSON.stringify(data))\r\n      \r\n     \r\n      \r\n    } catch (err) {\r\n        const error = err.response && err.response.data.message ? err.response.data.message : err.message\r\n        dispatch(fail(error))\r\n    }\r\n\r\n  }\r\n\r\n  export const Logout = () => async (dispatch) => {\r\n    \r\n    localStorage.removeItem('userInfo')\r\n    dispatch(logout());\r\n\r\n  }\r\n\r\n\r\n\r\n  export const Register = (name,email,password) => async (dispatch) => {\r\n    \r\n    try {\r\n\r\n        \r\n        const config ={\r\n             headers:{\r\n                'Content-Type':'application/json'\r\n             }\r\n        }\r\n        const { data } = await axios.post('/api/users',{name,email,password},config)\r\n        \r\n        dispatch(register(data))\r\n        dispatch(success(data))\r\n\r\n        localStorage.setItem('userInfo',JSON.stringify(data))\r\n      \r\n     \r\n      \r\n    } catch (err) {\r\n        const error = err.response && err.response.data.message ? err.response.data.message : err.message\r\n        dispatch(failRegister(error))\r\n    }\r\n\r\n  }"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAiBC,OAAjB,EAAyBC,IAAzB,EAA8BC,MAA9B,EAAqCC,QAArC,EAA8CC,YAA9C,QAAkE,yBAAlE;AAIA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAOC,QAAP,KAAoB,MAAOC,QAAP,IAAoB;EAEzD,IAAI;IAEAA,QAAQ,CAACR,OAAO,EAAR,CAAR;IACA,MAAMS,MAAM,GAAE;MACTC,OAAO,EAAC;QACL,gBAAe;MADV;IADC,CAAd;IAKA,MAAM;MAAEC;IAAF,IAAW,MAAMb,KAAK,CAACc,IAAN,CAAW,kBAAX,EAA8B;MAACN,KAAD;MAAOC;IAAP,CAA9B,EAA+CE,MAA/C,CAAvB;IACAI,OAAO,CAACC,GAAR,CAAYH,IAAZ;IACAH,QAAQ,CAACT,OAAO,CAACY,IAAD,CAAR,CAAR;IAEAI,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAhC;EAIH,CAhBD,CAgBE,OAAOQ,GAAP,EAAY;IACV,MAAMC,KAAK,GAAGD,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAaV,IAAb,CAAkBW,OAAlC,GAA4CH,GAAG,CAACE,QAAJ,CAAaV,IAAb,CAAkBW,OAA9D,GAAwEH,GAAG,CAACG,OAA1F;IACAd,QAAQ,CAACP,IAAI,CAACmB,KAAD,CAAL,CAAR;EACH;AAEF,CAvBI;AAyBL,OAAO,MAAMG,MAAM,GAAG,MAAM,MAAOf,QAAP,IAAoB;EAE9CO,YAAY,CAACS,UAAb,CAAwB,UAAxB;EACAhB,QAAQ,CAACN,MAAM,EAAP,CAAR;AAED,CALM;AASP,OAAO,MAAMuB,QAAQ,GAAG,CAACC,IAAD,EAAMpB,KAAN,EAAYC,QAAZ,KAAyB,MAAOC,QAAP,IAAoB;EAEnE,IAAI;IAGA,MAAMC,MAAM,GAAE;MACTC,OAAO,EAAC;QACL,gBAAe;MADV;IADC,CAAd;IAKA,MAAM;MAAEC;IAAF,IAAW,MAAMb,KAAK,CAACc,IAAN,CAAW,YAAX,EAAwB;MAACc,IAAD;MAAMpB,KAAN;MAAYC;IAAZ,CAAxB,EAA8CE,MAA9C,CAAvB;IAEAD,QAAQ,CAACL,QAAQ,CAACQ,IAAD,CAAT,CAAR;IACAH,QAAQ,CAACT,OAAO,CAACY,IAAD,CAAR,CAAR;IAEAI,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAhC;EAIH,CAjBD,CAiBE,OAAOQ,GAAP,EAAY;IACV,MAAMC,KAAK,GAAGD,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAaV,IAAb,CAAkBW,OAAlC,GAA4CH,GAAG,CAACE,QAAJ,CAAaV,IAAb,CAAkBW,OAA9D,GAAwEH,GAAG,CAACG,OAA1F;IACAd,QAAQ,CAACJ,YAAY,CAACgB,KAAD,CAAb,CAAR;EACH;AAEF,CAxBM"},"metadata":{},"sourceType":"module"}